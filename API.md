# Статические страницы сайта

**GET:** / - главная страница
**GET:** /login - страница авторизации
**GET:** /username-select - страница выбора имени пользователя при первоначальном логине
**GET:** /* - 404

# Методы API

## Авторизация

**GET** /api/auth/logout - логаут

## Пользователь

**GET** /api/users/ - Получение списка пользователей. Пагинируемый ресурс. Можно использовать также для поиска. Может принимать 
> GET-параметры:
  * offset = 0, необязательный. Смещение для запрашиваемых данных, используется для пагинации. **Пример:** `?offset=20`
  * limit = 20, необязательный. Лимит для запрашиваемого количества. **Пример:** `?limit=20`
  * search, необязательный. Строка для поиска. **Пример:** `?search=ps`
  * html, необзательный. Вернет отрендеренные в html данные. **Пример:** `?html`
  
> Возвращает ответ в json:

```
// Без ?html
{
    "docs": [{}, {}, ...],
    "total": 200,
    "limit": 20,
    "offset": 0
}

// С ?html
{
    "html": "<html>",
    "total": 200,
    "limit": 20,
    "offset": 0
}
```
   
**GET** /api/users/check-uniqueness - проверка на "занятость" имени пользователя
> GET-параметры:
  * username, обязательный  

**GET** /api/users/:id - Получение пользователя по его **_id**
**PUT** /api/users/:id - Обновление документа пользователя по его **_id**
> json передается в теле запроса. Не забываем про content-type

## Сообщение

**GET** /api/messages/ - Получение списка сообщений, по userId. Пагинируемый ресурс.
> GET-параметры:
  * offset = 0, необязательный. Смещение для запрашиваемых данных, используется для пагинации. **Пример:** `?offset=20`
  * limit = 20, необязательный. Лимит для запрашиваемого количества. **Пример:** `?limit=20`
  * userId = ObjectId, обязательный. Выборка сообщений только для определенного пользователя по его _id. **Пример:** `?userId=57c1fbeeba32a882234abe51`
  * html, необзательный. Вернет отрендеренные в html данные. **Пример:** `?html`
  
> Возвращает ответ в json:

```
// Без ?html
{
    "docs": [{}, {}, ...],
    "total": 200,
    "limit": 20,
    "offset": 0
}

// С ?html
{
    "html": "<html>",
    "total": 200,
    "limit": 20,
    "offset": 0
}
```

**GET** /api/users/:id - Получение сообщения по его **_id**
**POST** /api/users - Создание нового сообщения
> json передается в теле запроса. Не забываем про content-type
